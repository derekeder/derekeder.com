<h2>
  <small>12 Jan 2013<br /></small>
  Preparing for the Google Fusion Tables SQL API Deprecation
</h2>
<div class='blog'>
  <p><a href='https://developers.google.com/fusiontables/'><img class='img-polaroid' src='http://derekeder.com/images/blog/fusion-tables-logo-beta.gif' title='Google Fusion Tables' alt='Google Fusion Tables'></a></p>

<p>On January 14th, 2013, Google will <a href="https://developers.google.com/fusiontables/docs/developers_guide">deprecate the SQL API</a> for their <a href="https://developers.google.com/fusiontables/">Fusion Tables platform</a>. This post is here to help developers prepare for it (or more likely, fix things after they broke).</p>

<p>While Google is killing one way to access Fusion Tables, there are still <em>two</em> other ways to access the API.</p>

<h3>#1 The Right Way: Upgrade to the Fusion Tables v1 API</h3>

<p>According to their <a href="https://developers.google.com/fusiontables/docs/v1/migration_guide">Migration Guide</a> (very useful!), their recommended path is to upgrade your apps to the <a href="https://developers.google.com/fusiontables/docs/v1/getting_started">Fusion Tables v1 API</a>.</p>

<p>I would recommend upgrading to the v1 API as well. I've already upgraded my <a href="http://derekeder.com/searchable_map_template/">Searchable Map Template</a>, <a href="https://github.com/open-city/look-at-cook">Look at Cook</a>, and <a href="http://code.google.com/p/gmaps-utility-gis/issues/detail?id=12">submitted a patch</a> to the <a href="http://code.google.com/p/gmaps-utility-gis/source/browse/trunk/fusiontips/src/fusiontips.js">fusiontips</a> library if you are interested in seeing examples of how it's done.</p>

<p>Other than changing the endpoint you are querying, there are a few hurdles to upgrading to the v1 API:</p>

<ul>
<li>First, you need to get an <a href="https://code.google.com/apis/console/">API key</a>.</li>
<li>Second, the format of the returned data is <a href="https://developers.google.com/fusiontables/docs/v1/using#queryData">slightly different</a>, so you will need to change how you process it. <a href="https://github.com/derekeder/FusionTable-Map-Template-Heroku/commit/7e86b0bfba411584e0a305560d07444648835a0c">This diff</a> gives a good example of that change.</li>
</ul>


<h3>#2 The Easy Way: Downgrade to the Google Charts API</h3>

<p><a href='https://developers.google.com/chart/interactive/docs/fusiontables'><img class='img-polaroid' src='http://derekeder.com/images/blog/google-chart-tools.gif' title='Google Chart Tools' alt='Google Chart Tools'></a></p>

<p>If all that stuff I just described doesn't sound like your bag, there's an easier way! Google is shutting down the old SQL API, but <a href="https://groups.google.com/forum/?fromgroups=#!searchin/fusion-tables-users-group/Status$20of$20API$20deprecation$20and$20Google$20Chart$20Tools/fusion-tables-users-group/sHFf9tAzqSg/d8bJvR-1HycJ">they say they're keeping</a> the <a href="https://developers.google.com/chart/interactive/docs/fusiontables">Fusion Tables Charts API</a>, which <em>operates the exact same way as the old SQL API</em>.</p>

<p>Just replace all instances of:</p>

<div class="highlight"><pre><code class="bash">google.com/fusiontables/api/query
</code></pre>
</div>


<p>with</p>

<div class="highlight"><pre><code class="bash">fusiontables.googleusercontent.com/fusiontables/api/query
</code></pre>
</div>


<p>This was especially useful for my <a href="https://github.com/derekeder/Fusion-Tables-to-HTML-Table">Fusion Tables to HTML Table</a> library. It uses a PHP library written by kbris...@google.com that hasn't been updated to use the new v1 API. A simple <a href="https://github.com/derekeder/Fusion-Tables-to-HTML-Table/commit/99f2738892d3b09751df85f494f7a339ec476cda">find and replace using the lines above</a> solved the problem!</p>

<p><span class="label label-warning">Warning</span>
One final note on this solution. Google <a href="https://groups.google.com/forum/?fromgroups=#!searchin/fusion-tables-users-group/Status$20of$20API$20deprecation$20and$20Google$20Chart$20Tools/fusion-tables-users-group/sHFf9tAzqSg/d8bJvR-1HycJ">stated they have no plans to deprecate the Charts API</a>, but I have a feeling they'll get around to it eventually.</p>

<p>Taking this shortcut now probably means you'll just have to do it the hard(er) way eventually. Think of it as putting off the work for a later date. The silver lining to this is Google usually gives a 6 month heads up before they turn their products off.</p>

</div>

<hr />
<!-- AddThis Button BEGIN -->
<div class="addthis_toolbox addthis_default_style " addthis:title="Preparing for the Google Fusion Tables SQL API Deprecation" addthis:url="http://derekeder.com/blog/preparing-for-the-fusion-tables-sql-api-deprecation">
<a class="addthis_button_tweet"></a>
<a class="addthis_button_facebook_like" fb:like:layout="button_count"></a>
</div>
<script type="text/javascript" src="http://s7.addthis.com/js/300/addthis_widget.js#pubid=xa-508f02450809cc4d"></script>
<!-- AddThis Button END -->

<div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'derekeder'; // required: replace example with your forum shortname
  var disqus_identifier = '/preparing-for-the-fusion-tables-sql-api-deprecation';
    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>
<hr />

<p><a href='/'>&laquo; back to blog</a></p>